{% extends 'layout.html.twig' %}

{% block body %}
	<h2>Ajouter une page</h2>
	<div class="container">
		
			<div class="well">
				{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
				{{ form_errors(form) }}

				<div class="form-group row">
					{{ form_label(form.title, "Titre", {'label_attr': { 'class': 'col-sm-2 control-label' }}) }}
					
					<div class="col-sm-6">
						{{ form_errors(form.title) }}
						{{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
					</div>
					
					
				</div>

				<div class="form-group row">
					{{ form_label(form.content, "Contenu", {'label_attr': { 'class': 'col-sm-2 control-label' }}) }}
					
					<div class="col-sm-6">
						{{ form_errors(form.content) }}
						{{ form_widget(form.content, {'attr': {
							'class': 'form-control',
							'rows': '8'
						}}) }}
					</div>
					
				</div>

				<div class="form-check">
					{{ form_widget(form.published, {'attr': {'class': 'form-check-input'}}) }}
					{{ form_label(form.published, "Publier", {'label_attr': { 'class': '"form-check-label"' }}) }}			
				</div>

				<div class="form-check">
					{{ form_widget(form.categories, {'attr': {'class': 'form-check-input'}}) }}
					{{ form_label(form.published, "Publier", {'label_attr': { 'class': '"form-check-label"' }}) }}	
				</div>

				<button type="button" class="btn btn-info" data-toggle="modal" data-target="#choiceImage">Image à la une</button>

				<div class="modal fade" id="choiceImage">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" arria-hidden="true">&times;</button>
								<h4>Choisir une image</h4>
							</div>
							<div class="modal-body">
								{% for image in images %}
									<input type="radio" name="image" value="{{ image.id }}" id="{{ image.id }}">
									<label for="{{ image.id }}"><img src="{{ asset(image.webPath) }}" alt="{{ image.alt }}"></label>
								{% endfor %}
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-info" data-dismiss="modal" arria-hidden="true">Définir image</button>
							</div>
						</div>	
						
					</div>
				</div>
				
				{{ form_widget(form.save, {'attr': { 'class': 'btn btn-primary'}}) }}
				
				{{ form_rest(form)}}
				{{ form_end(form) }}
			</div>
		
	</div>
	
{% endblock %}